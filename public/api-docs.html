<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Claw Trust Scores | API Docs</title>
  <meta name="description" content="API docs for Claw Trust Scores. Log events, read trust scores, run preflight decisions, and export decision history." />
  <link rel="canonical" href="https://clawtrustscores.com/api-docs" />
  <meta property="og:title" content="Claw Trust Scores | API Docs" />
  <meta property="og:description" content="Integration-ready endpoints for trust scoring and preflight decisioning." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://clawtrustscores.com/api-docs" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="icon" type="image/png" href="/logo-mark.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f8f4ef;
      --surface: #ffffff;
      --surface-2: #f6efe8;
      --line: #e8ddd1;
      --text: #1e1814;
      --muted: #6f6154;
      --accent: #d4532a;
      --accent-soft: rgba(212, 83, 42, 0.12);
      --ok: #14886f;
      --mono: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, monospace;
      --sans: "Plus Jakarta Sans", ui-sans-serif, system-ui, -apple-system, sans-serif;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: var(--sans);
      background: radial-gradient(1200px 500px at 20% -10%, rgba(212,83,42,0.06), transparent), var(--bg);
      color: var(--text);
      line-height: 1.5;
    }

    .wrap { width: min(1020px, 92vw); margin: 0 auto; }

    .topbar {
      border-bottom: 1px solid var(--line);
      background: rgba(248, 244, 239, 0.88);
      backdrop-filter: blur(8px);
      position: sticky;
      top: 0;
      z-index: 20;
    }
    .topbar-inner {
      height: 64px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .brand {
      display: inline-flex;
      align-items: center;
      gap: 9px;
      color: var(--text);
      text-decoration: none;
      font-weight: 800;
      font-size: 1.02rem;
      letter-spacing: -0.2px;
    }
    .brand-mark {
      width: 30px;
      height: 30px;
      object-fit: contain;
      filter: drop-shadow(0 2px 6px rgba(212,83,42,0.16));
    }
    .brand-text span { color: var(--accent); }
    .top-links {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .top-links a {
      text-decoration: none;
      color: var(--muted);
      font-size: 0.9rem;
      font-weight: 600;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid transparent;
    }
    .top-links a:hover {
      color: var(--text);
      border-color: var(--line);
      background: #fff;
    }
    .top-links a.active {
      color: var(--text);
      border-color: #dfc6b5;
      background: #fff;
    }

    main { padding: 26px 0 54px; }
    .step-row {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
      margin: 12px 0 14px;
    }
    .step {
      background: var(--surface);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 12px;
      font-size: 0.88rem;
      color: var(--muted);
    }
    .step strong {
      display: block;
      color: var(--text);
      font-size: 0.93rem;
      margin-bottom: 4px;
    }

    .hero {
      background: var(--surface);
      border: 1px solid var(--line);
      border-radius: 18px;
      padding: 24px;
      box-shadow: 0 8px 32px rgba(21, 16, 11, 0.05);
      margin-bottom: 14px;
    }
    h1 {
      margin: 0;
      font-size: clamp(1.8rem, 3vw, 2.5rem);
      line-height: 1.08;
      letter-spacing: -1px;
    }
    .hero p {
      margin: 10px 0 0;
      color: var(--muted);
      max-width: 760px;
    }
    .base-url {
      margin-top: 14px;
      display: inline-flex;
      align-items: center;
      gap: 9px;
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 7px 12px;
      background: var(--surface-2);
      color: var(--muted);
      font-size: 0.82rem;
    }
    .base-url code { font-family: var(--mono); color: var(--text); }

    .grid {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 14px;
      margin-bottom: 14px;
    }

    .card {
      background: var(--surface);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 18px;
    }
    .card h2 {
      margin: 0 0 12px;
      font-size: 1.35rem;
      letter-spacing: -0.5px;
    }

    .auth-row {
      display: flex;
      align-items: center;
      gap: 9px;
      padding: 10px 12px;
      border: 1px solid var(--line);
      border-radius: 11px;
      background: #fff;
      font-size: 0.95rem;
      color: var(--muted);
    }
    .auth-row code {
      font-family: var(--mono);
      color: var(--text);
      background: var(--surface-2);
      border-radius: 8px;
      padding: 2px 7px;
    }

    .endpoint-list {
      display: grid;
      gap: 8px;
    }
    .endpoint {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 10px;
      align-items: center;
      border: 1px solid var(--line);
      border-radius: 11px;
      padding: 9px 10px;
      background: #fff;
    }
    .verb {
      font-family: var(--mono);
      font-size: 0.74rem;
      font-weight: 700;
      letter-spacing: 0.4px;
      border-radius: 7px;
      padding: 4px 7px;
      line-height: 1;
      width: fit-content;
      border: 1px solid transparent;
    }
    .verb.get {
      color: #135f9e;
      border-color: rgba(19,95,158,0.2);
      background: rgba(19,95,158,0.08);
    }
    .verb.post {
      color: #0e7a58;
      border-color: rgba(14,122,88,0.2);
      background: rgba(14,122,88,0.09);
    }
    .endpoint code {
      font-family: var(--mono);
      font-size: 0.82rem;
      color: var(--text);
      background: var(--surface-2);
      border-radius: 8px;
      padding: 3px 7px;
      margin-right: 7px;
      display: inline-block;
    }
    .endpoint span {
      color: var(--muted);
      font-size: 0.9rem;
    }

    .mono {
      font-family: var(--mono);
    }
    pre {
      margin: 0;
      border-radius: 12px;
      border: 1px solid #2c231e;
      background: #171210;
      color: #f7efe6;
      padding: 14px;
      font-size: 0.79rem;
      line-height: 1.65;
      overflow: auto;
    }

    .guides {
      display: grid;
      gap: 10px;
    }
    .guide-link {
      display: flex;
      align-items: center;
      justify-content: space-between;
      text-decoration: none;
      color: var(--text);
      border: 1px solid var(--line);
      border-radius: 11px;
      padding: 12px;
      background: #fff;
      font-weight: 600;
      font-size: 0.93rem;
    }
    .guide-link span:last-child {
      color: var(--accent);
      font-size: 0.8rem;
      font-family: var(--mono);
    }
    .guide-link:hover {
      border-color: #dfc6b5;
      background: #fff9f5;
    }

    .footer-note {
      margin-top: 16px;
      color: var(--muted);
      font-size: 0.84rem;
      text-align: center;
    }
    details.advanced {
      margin-top: 12px;
      border: 1px dashed #d8c8bb;
      border-radius: 12px;
      padding: 10px 12px;
      background: #fffaf6;
    }
    details.advanced > summary {
      cursor: pointer;
      font-weight: 700;
      color: var(--text);
      font-size: 0.92rem;
      list-style: none;
    }
    details.advanced > summary::-webkit-details-marker { display: none; }
    details.advanced > summary::after {
      content: " +";
      color: var(--accent);
      font-family: var(--mono);
    }
    details.advanced[open] > summary::after { content: " -"; }
    .small-note {
      margin-top: 8px;
      color: var(--muted);
      font-size: 0.82rem;
    }
    .mode-switch {
      display: inline-flex;
      gap: 8px;
      margin-bottom: 14px;
      background: #efe5db;
      border: 1px solid #ddc9b8;
      border-radius: 999px;
      padding: 4px;
    }
    .mode-btn {
      border: 0;
      border-radius: 999px;
      padding: 8px 14px;
      font-family: var(--sans);
      font-size: 0.86rem;
      font-weight: 700;
      color: var(--muted);
      background: transparent;
      cursor: pointer;
    }
    .mode-btn.active {
      background: #fff;
      color: var(--text);
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    }
    .mode-panel.hidden { display: none; }
    .simple-grid {
      display: grid;
      gap: 12px;
    }
    .simple-steps {
      display: grid;
      gap: 10px;
    }
    .simple-step {
      border: 1px solid var(--line);
      border-radius: 12px;
      background: #fff;
      padding: 12px;
    }
    .simple-step strong {
      display: block;
      font-size: 0.95rem;
      margin-bottom: 4px;
    }
    .simple-step p {
      margin: 0;
      color: var(--muted);
      font-size: 0.9rem;
    }
    .simple-callout {
      border: 1px solid #d8c8bb;
      border-radius: 12px;
      padding: 12px;
      background: #fffaf6;
      color: var(--muted);
      font-size: 0.9rem;
    }

    @media (max-width: 900px) {
      .grid { grid-template-columns: 1fr; }
      .step-row { grid-template-columns: 1fr; }
      .top-links { display: none; }
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="wrap topbar-inner">
      <a class="brand" href="/">
        <img class="brand-mark" src="/logo-mark.png" alt="Claw Trust Scores logo" />
        <span class="brand-text">Claw <span>Trust</span> Scores</span>
      </a>
      <nav class="top-links">
        <a href="/">Home</a>
        <a class="active" href="/api-docs">API Docs</a>
        <a href="/getting-started">Getting Started</a>
        <a href="/changelog">Changelog</a>
        <a href="/status">Status</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <h1>API Docs</h1>
      <p>Drop-in trust checks for agent workflows. Use one API key and these endpoints to log events, read scores, gate actions, and export audit trails.</p>
      <div class="base-url">
        <strong>Base URL</strong>
        <code>https://claw-trust-scores-production.up.railway.app</code>
      </div>
    </section>
    <div class="mode-switch" role="tablist" aria-label="Documentation mode">
      <button class="mode-btn active" id="simpleModeBtn" type="button" role="tab" aria-selected="true">Simple mode</button>
      <button class="mode-btn" id="developerModeBtn" type="button" role="tab" aria-selected="false">Developer mode</button>
    </div>

    <div class="mode-panel" id="simpleModePanel">
      <section class="simple-grid">
        <article class="card">
          <h2>What This Does</h2>
          <p>Before your app sends money, shares keys, or runs risky actions, this service tells you whether the other agent looks safe, risky, or needs review.</p>
        </article>
        <article class="card">
          <h2>3 Steps</h2>
          <div class="simple-steps">
            <div class="simple-step">
              <strong>1. Get your API key</strong>
              <p>Use the signup form on the homepage. You will get a key like <span class="mono">claw_xxx</span>.</p>
            </div>
            <div class="simple-step">
              <strong>2. Ask for a trust score</strong>
              <p>Send an agent ID. You get back a score from 0 to 100 plus a short explanation.</p>
            </div>
            <div class="simple-step">
              <strong>3. Make a decision</strong>
              <p>Use the score or preflight endpoint to allow, review, or block the action.</p>
            </div>
          </div>
        </article>
        <article class="card">
          <h2>Copy/Paste Example</h2>
          <pre><code>curl "https://claw-trust-scores-production.up.railway.app/v1/score?agentId=agent:demo:vendor-1" \
  -H "x-api-key: YOUR_KEY"</code></pre>
          <p class="small-note">Expected result: score + trust level + explanation in plain JSON.</p>
        </article>
        <article class="simple-callout">
          If you just want to launch fast, use only these endpoints first: <span class="mono">/v1/events</span>, <span class="mono">/v1/score</span>, and <span class="mono">/v1/integrations/clawcredit/preflight</span>.
        </article>
      </section>
    </div>

    <div class="mode-panel hidden" id="developerModePanel">
      <section class="step-row">
        <div class="step"><strong>1. Create key</strong>Call <code>POST /v1/users</code> with your email.</div>
        <div class="step"><strong>2. Log + score</strong>Use <code>/v1/events</code> then <code>/v1/score</code>.</div>
        <div class="step"><strong>3. Gate actions</strong>Use preflight to return allow/review/block.</div>
      </section>

      <section class="grid">
        <article class="card">
          <h2>Auth</h2>
          <div class="auth-row">
            Send header <code>x-api-key: YOUR_KEY</code> on all protected endpoints.
          </div>
          <p class="small-note">Most integrations can ignore admin endpoints.</p>
        </article>

        <article class="card">
          <h2>Quick Example</h2>
          <pre><code>curl "https://claw-trust-scores-production.up.railway.app/v1/score?agentId=agent:demo:vendor-1" \
  -H "x-api-key: YOUR_KEY"</code></pre>
        </article>
      </section>

      <section class="card" style="margin-bottom:14px;">
        <h2>Most Used Endpoints</h2>
        <div class="endpoint-list">
          <div class="endpoint">
            <span class="verb post">POST</span>
            <div><code>/v1/events</code><span>Log trust events</span></div>
          </div>
          <div class="endpoint">
            <span class="verb get">GET</span>
            <div><code>/v1/score?agentId=...</code><span>Read trust score + explanation</span></div>
          </div>
          <div class="endpoint">
            <span class="verb post">POST</span>
            <div><code>/v1/integrations/clawcredit/preflight</code><span>Return allow/review/block decision</span></div>
          </div>
          <div class="endpoint">
            <span class="verb get">GET</span>
            <div><code>/v1/usage</code><span>Current month usage + limits</span></div>
          </div>
          <div class="endpoint">
            <span class="verb get">GET</span>
            <div><code>/v1/audit/decisions?format=json|csv</code><span>Export decision logs</span></div>
          </div>
        </div>
        <details class="advanced">
          <summary>Advanced and account-management endpoints</summary>
          <div class="endpoint-list" style="margin-top:10px;">
            <div class="endpoint">
              <span class="verb get">GET</span>
              <div><code>/v1/plans</code><span>Public plan limits</span></div>
            </div>
            <div class="endpoint">
              <span class="verb post">POST</span>
              <div><code>/v1/keys/rotate</code><span>Rotate current dynamic API key</span></div>
            </div>
            <div class="endpoint">
              <span class="verb post">POST</span>
              <div><code>/v1/keys/revoke</code><span>Revoke current dynamic API key</span></div>
            </div>
            <div class="endpoint">
              <span class="verb get">GET</span>
              <div><code>/health</code><span>Service health check</span></div>
            </div>
            <div class="endpoint">
              <span class="verb get">GET</span>
              <div><code>/v1/admin/overview</code><span>Internal metrics overview (admin token)</span></div>
            </div>
          </div>
        </details>
      </section>

      <section class="card">
        <h2>Full Guides</h2>
        <div class="guides">
          <a class="guide-link" href="/getting-started"><span>5-Minute Quickstart</span><span>OPEN</span></a>
          <a class="guide-link" href="https://github.com/oshaea30/Claw-Trust-Scores/blob/main/USER_GUIDE.md" target="_blank" rel="noopener noreferrer"><span>User Guide</span><span>OPEN</span></a>
          <a class="guide-link" href="https://github.com/oshaea30/Claw-Trust-Scores/blob/main/README.md" target="_blank" rel="noopener noreferrer"><span>README</span><span>OPEN</span></a>
          <a class="guide-link" href="https://github.com/oshaea30/Claw-Trust-Scores/blob/main/TECHNICAL_DOCUMENTATION.md" target="_blank" rel="noopener noreferrer"><span>Technical Documentation</span><span>OPEN</span></a>
          <a class="guide-link" href="/terms"><span>Terms of Service</span><span>OPEN</span></a>
          <a class="guide-link" href="/privacy"><span>Privacy Policy</span><span>OPEN</span></a>
        </div>
      </section>
    </div>
    <p class="footer-note">Need billing setup or plan upgrades? Contact <a href="mailto:info@collocatellc.com">info@collocatellc.com</a>.</p>
  </main>
  <script>
    const simpleBtn = document.getElementById("simpleModeBtn");
    const developerBtn = document.getElementById("developerModeBtn");
    const simplePanel = document.getElementById("simpleModePanel");
    const developerPanel = document.getElementById("developerModePanel");

    function setMode(mode) {
      const simple = mode === "simple";
      simpleBtn.classList.toggle("active", simple);
      developerBtn.classList.toggle("active", !simple);
      simpleBtn.setAttribute("aria-selected", simple ? "true" : "false");
      developerBtn.setAttribute("aria-selected", simple ? "false" : "true");
      simplePanel.classList.toggle("hidden", !simple);
      developerPanel.classList.toggle("hidden", simple);
    }

    simpleBtn.addEventListener("click", () => setMode("simple"));
    developerBtn.addEventListener("click", () => setMode("developer"));
  </script>
</body>
</html>
